(window["webpackJsonppre-react"]=window["webpackJsonppre-react"]||[]).push([[14],{327:function(e,t,n){"use strict";var o=n(0),a=n.n(o),r=n(77),i=n.n(r),l=n(16),c=n.n(l),s=n(3),u=n.n(s),m=n(6),p=n.n(m),f=n(8),d=n.n(f),v=n(4),y=n.n(v),b=n(7),h=n.n(b),C=n(1),E=n.n(C),g=n(9),k=n.n(g),O=n(36),N=n(79),T=n(21),x=n.n(T),w=function(e){function t(){var e,n,o,a;p()(this,t);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return n=o=y()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),o.close=function(e){e&&e.stopPropagation(),o.clearCloseTimer(),o.props.onClose()},o.startCloseTimer=function(){o.props.duration&&(o.closeTimer=setTimeout((function(){o.close()}),1e3*o.props.duration))},o.clearCloseTimer=function(){o.closeTimer&&(clearTimeout(o.closeTimer),o.closeTimer=null)},a=n,y()(o,a)}return h()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentDidUpdate",value:function(e){(this.props.duration!==e.duration||this.props.update)&&this.restartCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"restartCloseTimer",value:function(){this.clearCloseTimer(),this.startCloseTimer()}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls+"-notice",o=(e={},c()(e,""+n,1),c()(e,n+"-closable",t.closable),c()(e,t.className,!!t.className),e);return a.a.createElement("div",{className:x()(o),style:t.style,onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onClick:t.onClick},a.a.createElement("div",{className:n+"-content"},t.children),t.closable?a.a.createElement("a",{tabIndex:"0",onClick:this.close,className:n+"-close"},t.closeIcon||a.a.createElement("span",{className:n+"-close-x"})):null)}}]),t}(o.Component);w.propTypes={duration:E.a.number,onClose:E.a.func,children:E.a.any,update:E.a.bool,closeIcon:E.a.node},w.defaultProps={onEnd:function(){},onClose:function(){},duration:1.5,style:{right:"50%"}};var j=w,P=0,_=Date.now();var S=function(e){function t(){var e,n,o,a;p()(this,t);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return n=o=y()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),o.state={notices:[]},o.add=function(e){var t=e.key=e.key||"rcNotification_"+_+"_"+P++,n=o.props.maxCount;o.setState((function(o){var a=o.notices,r=a.map((function(e){return e.key})).indexOf(t),i=a.concat();return-1!==r?i.splice(r,1,e):(n&&a.length>=n&&(e.updateKey=i[0].updateKey||i[0].key,i.shift()),i.push(e)),{notices:i}}))},o.remove=function(e){o.setState((function(t){return{notices:t.notices.filter((function(t){return t.key!==e}))}}))},a=n,y()(o,a)}return h()(t,e),d()(t,[{key:"getTransitionName",value:function(){var e=this.props,t=e.transitionName;return!t&&e.animation&&(t=e.prefixCls+"-"+e.animation),t}},{key:"render",value:function(){var e,t=this,n=this.props,o=this.state.notices,r=o.map((function(e,r){var i=Boolean(r===o.length-1&&e.updateKey),l=e.updateKey?e.updateKey:e.key,c=Object(N.a)(t.remove.bind(t,e.key),e.onClose);return a.a.createElement(j,u()({prefixCls:n.prefixCls},e,{key:l,update:i,onClose:c,onClick:e.onClick,closeIcon:n.closeIcon}),e.content)})),i=(e={},c()(e,n.prefixCls,1),c()(e,n.className,!!n.className),e);return a.a.createElement("div",{className:x()(i),style:n.style},a.a.createElement(O.a,{transitionName:this.getTransitionName()},r))}}]),t}(o.Component);S.propTypes={prefixCls:E.a.string,transitionName:E.a.string,animation:E.a.oneOfType([E.a.string,E.a.object]),style:E.a.object,maxCount:E.a.number,closeIcon:E.a.node},S.defaultProps={prefixCls:"rc-notification",animation:"fade",style:{top:65,left:"50%"}},S.newInstance=function(e,t){var n=e||{},o=n.getContainer,r=i()(n,["getContainer"]),l=document.createElement("div");o?o().appendChild(l):document.body.appendChild(l);var c=!1;k.a.render(a.a.createElement(S,u()({},r,{ref:function(e){c||(c=!0,t({notice:function(t){e.add(t)},removeNotice:function(t){e.remove(t)},component:e,destroy:function(){k.a.unmountComponentAtNode(l),l.parentNode.removeChild(l)}}))}})),l)};var I,M,V,D,L=S,A=n(213),K=3,B=1,H="ant-message",z="move-up";var J={open:function(e){var t=void 0!==e.duration?e.duration:K,n={info:"info-circle",success:"check-circle",error:"close-circle",warning:"exclamation-circle",loading:"loading"}[e.type],a=B++,r=new Promise((function(r){var i=function(){return"function"===typeof e.onClose&&e.onClose(),r(!0)};!function(e){M?e(M):L.newInstance({prefixCls:H,transitionName:z,style:{top:I},getContainer:V,maxCount:D},(function(t){M?e(M):(M=t,e(t))}))}((function(r){var l=o.createElement(A.a,{type:n,theme:"loading"===n?"outlined":"filled"}),c=n?l:"";r.notice({key:a,duration:t,style:{},content:o.createElement("div",{className:"".concat(H,"-custom-content").concat(e.type?" ".concat(H,"-").concat(e.type):"")},e.icon?e.icon:c,o.createElement("span",null,e.content)),onClose:i})}))})),i=function(){M&&M.removeNotice(a)};return i.then=function(e,t){return r.then(e,t)},i.promise=r,i},config:function(e){void 0!==e.top&&(I=e.top,M=null),void 0!==e.duration&&(K=e.duration),void 0!==e.prefixCls&&(H=e.prefixCls),void 0!==e.getContainer&&(V=e.getContainer),void 0!==e.transitionName&&(z=e.transitionName,M=null),void 0!==e.maxCount&&(D=e.maxCount,M=null)},destroy:function(){M&&(M.destroy(),M=null)}};["success","info","warning","error","loading"].forEach((function(e){J[e]=function(t,n,o){return"function"===typeof n&&(o=n,n=void 0),J.open({content:t,duration:n,type:e,onClose:o})}})),J.warn=J.warning;t.a=J},455:function(e,t,n){"use strict";n.r(t),function(e,o){n.d(t,"default",(function(){return b}));var a,r=n(41),i=n(42),l=n(44),c=n(43),s=n(45),u=(n(456),n(82)),m=n(10),p=n(327),f=n(565),d=n(571),v=(n(18),function(){p.a.error("\u8be5\u5458\u5de5\u5df2\u79bb\u804c\uff0c\u65e0\u6cd5\u8fdb\u884c\u64cd\u4f5c")}),y=function(){p.a.warning("\u4e0d\u53ef\u518d\u8fdb\u884c\u91cd\u590d\u64cd\u4f5c")},b=Object(u.b)((function(e){return{dimission:e.getIn(["dimission","dimission"]),ask:e.getIn(["ask","ask"])}}))(a=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(l.a)(this,Object(c.a)(t).call(this))).showModal=function(t){e.setState({visible:!0,name:t.target.parentNode.parentNode.firstElementChild.innerHTML}),console.log(t.target.parentNode.parentNode.firstElementChild.innerHTML)},e.handleOk=function(t){e.setState({visible:!1}),e.props.dispatch(Object(m.u)({url:"/react/updatestaffstate",params:{name:e.state.name}})).then((function(t){e.props.dispatch(Object(m.t)({url:"/react/updateliststate",params:{name:e.state.name}}))}))},e.handleCancel=function(t){e.setState({visible:!1})},e.getName=function(t){console.log(t.target.parentNode.parentNode.firstElementChild.innerHTML),e.setState({name:t.target.parentNode.parentNode.firstElementChild.innerHTML})},e.confirm=function(){e.props.dispatch(Object(m.u)({url:"/react/removeDimission",params:{name:e.state.name}}))},e.confirm2=function(){e.props.dispatch(Object(m.s)({url:"/react/updateAskState",params:{name:e.state.name}}))},e.state={visible:!1,name:""},e}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(m.n)({url:"/react/searchDimission"})),this.props.dispatch(Object(m.m)({url:"/react/getAsk",params:{}}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.dimission,a=t.ask;return console.log(this.props),o.createElement("div",{className:"event"},o.createElement("div",{className:"dimission"},o.createElement("h2",null,"\u79bb\u804c"),o.createElement("table",{style:{wordBreak:"break-all",wordWrap:"break-word"}},o.createElement("tbody",null,o.createElement("tr",null,o.createElement("td",null,"\u59d3\u540d"),o.createElement("td",null,"\u5165\u804c\u65f6\u95f4"),o.createElement("td",null,"\u7533\u8bf7\u79bb\u804c\u65f6\u95f4"),o.createElement("td",null,"\u79bb\u804c\u539f\u56e0"),o.createElement("td",null,"\u72b6\u6001"),o.createElement("td",null,"\u64cd\u4f5c")),n.map((function(t,n){return o.createElement("tr",{key:n,style:{height:"0.25rem"}},o.createElement("td",null,t.name),o.createElement("td",null,t.entrytime),o.createElement("td",null,t.dimissiontime),o.createElement("td",null,t.reason),o.createElement("td",null,t.state?"\u5df2\u79bb\u804c":"\u5728\u804c"),o.createElement("td",{className:"option"},o.createElement("span",{onClick:t.state?v:e.showModal},t.state?"\u5df2\u540c\u610f":"\u5f85\u5ba1\u6279"),o.createElement(f.a,{placement:"topLeft",title:"\u4f60\u786e\u5b9a\u771f\u7684\u8981\u64a4\u9500\u7533\u8bf7\u5417",onConfirm:t.state?v:e.confirm,okText:"\u64a4\u9500\u7533\u8bf7",cancelText:"\u53d6\u6d88"},o.createElement("span",{onClick:e.getName},"\u64a4\u9500\u7533\u8bf7"))),o.createElement(d.a,{title:"\u79bb\u804c\u5ba1\u6279",visible:e.state.visible,onOk:e.handleOk,onCancel:e.handleCancel},"\u4f60\u786e\u5b9a\u8981\u540c\u610f\u8be5\u79bb\u804c\u7533\u8bf7\u5417?"))}))))),o.createElement("div",{className:"ask"},o.createElement("h2",null,"\u8bf7\u5047"),o.createElement("table",null,o.createElement("tbody",null,o.createElement("tr",null,o.createElement("td",null,"\u59d3\u540d"),o.createElement("td",null,"\u5f00\u59cb\u65f6\u95f4"),o.createElement("td",null,"\u7ed3\u675f\u65f6\u95f4"),o.createElement("td",null,"\u8bf7\u5047\u539f\u56e0"),o.createElement("td",null,"\u64cd\u4f5c")),a.map((function(t,n){return o.createElement("tr",{key:n},o.createElement("td",null,t.name),o.createElement("td",null,t.starttime),o.createElement("td",null,t.endtime),o.createElement("td",null,t.reason),o.createElement("td",null,o.createElement(f.a,{placement:"topLeft",title:"\u4f60\u786e\u5b9a\u8981\u540c\u610f\u7533\u8bf7\u5417",onConfirm:t.state?y:e.confirm2,okText:"\u540c\u610f",cancelText:"\u9a73\u56de"},o.createElement("span",{onClick:t.state?y:e.getName},t.state?"\u5df2\u901a\u8fc7":"\u5f85\u5904\u7406"))))}))))))}}]),t}(e))||a}.call(this,n(0).Component,n(0))},456:function(e,t,n){},565:function(e,t,n){"use strict";var o=n(0),a=n(212),r=n(277),i=n(213),l=n(239),c=n(225),s=n(241),u=n(211);function m(e){return(m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]])}return n},h=function(e){function t(e){var n,a,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,i=d(t).call(this,e),(n=!i||"object"!==m(i)&&"function"!==typeof i?v(a):i).onConfirm=function(e){n.setVisible(!1,e);var t=n.props.onConfirm;t&&t.call(v(n),e)},n.onCancel=function(e){n.setVisible(!1,e);var t=n.props.onCancel;t&&t.call(v(n),e)},n.onVisibleChange=function(e){n.props.disabled||n.setVisible(e)},n.saveTooltip=function(e){n.tooltip=e},n.renderOverlay=function(e,t){var a=n.props,r=a.okButtonProps,i=a.cancelButtonProps,c=a.title,s=a.cancelText,u=a.okText,m=a.okType,f=a.icon;return o.createElement("div",null,o.createElement("div",{className:"".concat(e,"-inner-content")},o.createElement("div",{className:"".concat(e,"-message")},f,o.createElement("div",{className:"".concat(e,"-message-title")},c)),o.createElement("div",{className:"".concat(e,"-buttons")},o.createElement(l.a,p({onClick:n.onCancel,size:"small"},i),s||t.cancelText),o.createElement(l.a,p({onClick:n.onConfirm,type:m,size:"small"},r),u||t.okText))))},n.renderConfirm=function(e){var t=e.getPrefixCls,a=n.props,i=a.prefixCls,l=a.placement,u=b(a,["prefixCls","placement"]),m=t("popover",i),f=o.createElement(c.a,{componentName:"Popconfirm",defaultLocale:s.a.Popconfirm},(function(e){return n.renderOverlay(m,e)}));return o.createElement(r.a,p({},u,{prefixCls:m,placement:l,onVisibleChange:n.onVisibleChange,visible:n.state.visible,overlay:f,ref:n.saveTooltip}))},n.state={visible:e.visible},n}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,e),n=t,i=[{key:"getDerivedStateFromProps",value:function(e){return"visible"in e?{visible:e.visible}:"defaultVisible"in e?{visible:e.defaultVisible}:null}}],(a=[{key:"getPopupDomNode",value:function(){return this.tooltip.getPopupDomNode()}},{key:"setVisible",value:function(e,t){var n=this.props;"visible"in n||this.setState({visible:e});var o=n.onVisibleChange;o&&o(e,t)}},{key:"render",value:function(){return o.createElement(u.a,null,this.renderConfirm)}}])&&f(n.prototype,a),i&&f(n,i),t}(o.Component);h.defaultProps={transitionName:"zoom-big",placement:"top",trigger:"click",okType:"primary",icon:o.createElement(i.a,{type:"exclamation-circle",theme:"filled"}),disabled:!1},Object(a.polyfill)(h),t.a=h}}]);
//# sourceMappingURL=14.865ad9b1.chunk.js.map