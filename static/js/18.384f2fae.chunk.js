(window["webpackJsonppre-react"]=window["webpackJsonppre-react"]||[]).push([[18],{210:function(e,t,a){"use strict";a.r(t),function(e,n){a.d(t,"regTel",(function(){return N})),a.d(t,"regPwd",(function(){return x}));var l=a(289),r=(a(359),a(361)),c=a.n(r),o=(a(290),a(363)),s=a.n(o),i=(a(365),a(367)),m=a.n(i),u=(a(368),a(370)),d=a.n(u),g=a(41),p=a(42),h=a(44),f=a(43),b=a(45),E=(a(378),a(18)),v=a(569),y=a(570),k=a(558),C=a(213),w=a(278),N=/^1[3|5|7|8|9]\d{9}$/,x=/^\d{4}$/,S="",O=10,j=v.a.TabPane,B=function(e){function t(){var e;return Object(g.a)(this,t),(e=Object(h.a)(this,Object(f.a)(t).call(this))).telChange=function(t){console.log(N.test(t)),e.setState({codeBtn:N.test(t)})},e.codeChange=function(t){var a=e.tel.state.value;e.setState({loginBtn:N.test(a)&&x.test(t)})},e.getCode=function(){S=setInterval((function(){e.state.num>0?(e.state.num--,e.setState({num:e.state.num,txt:"\u8fd8\u6709"+e.state.num+"\u79d2",codeBtn:!1,toggle:!1})):(e.setState({num:O,txt:"\u53d1\u9001\u9a8c\u8bc1\u7801",codeBtn:!0,toggle:!0}),clearInterval(S))}),1e3),E.a.post("/react/sendCode",{mobile:e.tel.state.value})},e.checkCode=function(){console.log(111),E.a.post("/react/checkCode",{mobile:e.tel.state.value,code:e.code.state.value}).then((function(e){e.data.type?(E.c.push("/index/mine"),sessionStorage.token=e.data.token):sessionStorage.token=""}))},e.callback=function(e){console.log(e)},e.handleSubmit=function(t){t.preventDefault(),e.props.form.validateFields((function(e,t){e||(console.log(t),t.remember?Object(E.a)({url:"/react/managerlogin",data:t,method:"POST"}).then((function(e){200==e.data.code&&E.c.push("/index/viewover")})):alert("\u8bf7\u540c\u610f\u7528\u6237\u6ce8\u518c\u534f\u8bae"))}))},e.state={loginBtn:!1,codeBtn:!1,num:O,txt:"\u53d1\u9001\u9a8c\u8bc1\u7801",toggle:!0},e}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e,t=this,a=this.state,r=a.loginBtn,o=a.codeBtn,i=a.txt,u=a.toggle,g=this.props.form.getFieldDecorator;return n.createElement("div",{className:"wholeLogin"},n.createElement("div",{className:"up"},"\u540e\u53f0\u7ba1\u7406\u7cfb\u7edf"),n.createElement("div",{className:"down"},n.createElement(v.a,{defaultActiveKey:"1",onChange:this.callback},n.createElement(j,{tab:"\u5458\u5de5\u767b\u5f55",key:"1",forceRender:!1},n.createElement(s.a,{className:"list"},n.createElement(d.a,{className:"user",onChange:this.telChange,type:"number",placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",maxLength:11,ref:function(e){return t.tel=e},disabled:!u},"\u624b\u673a\u53f7\u7801"),n.createElement(d.a,{onChange:this.codeChange,className:"pwd",type:"password",placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",maxLength:4,ref:function(e){return t.code=e}},"\u5bc6\u7801",n.createElement(m.a,{id:"s-btn",size:"small",type:"primary",disabled:!o,onClick:this.getCode},i))),n.createElement(c.a,null),n.createElement(m.a,{className:"l-btn",type:"primary",disabled:!r,onClick:this.checkCode},"\u767b\u5f55"),n.createElement(c.a,null)),n.createElement(j,{tab:"\u7ba1\u7406\u5458\u767b\u5f55",key:"2",forceRender:!1},n.createElement(y.a,{onSubmit:this.handleSubmit,className:"login-form"},n.createElement(y.a.Item,null,g("manager",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7ba1\u7406\u5458\u8d26\u53f7"}]})(n.createElement(k.a,{prefix:n.createElement(C.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u8bf7\u8f93\u5165\u7ba1\u7406\u5458\u8d26\u53f7"}))),n.createElement(y.a.Item,null,g("pwd",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7ba1\u7406\u5458\u8d26\u53f7"}]})(n.createElement(k.a,{prefix:n.createElement(C.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"\u8bf7\u8f93\u5165\u7ba1\u7406\u5458\u5bc6\u7801"}))),n.createElement(y.a.Item,null,g("remember",{valuePropName:"checked",initialValue:!0})(n.createElement(w.a,null,"\u540c\u610f\u7528\u6237\u6ce8\u518c\u534f\u8bae")),n.createElement("a",{className:"login-form-forgot",href:""},"\u5fd8\u8bb0\u5bc6\u7801"),n.createElement("br",null),n.createElement("button",(e={type:"primary"},Object(l.a)(e,"type","submit"),Object(l.a)(e,"className","login-form-button"),e),"\u7ba1\u7406\u5458\u767b\u5f55"))))),",",n.createElement(c.a,null)))}}]),t}(e);t.default=y.a.create({name:"\u7ba1\u7406\u5458\u767b\u5f55"})(B)}.call(this,a(0).Component,a(0))},378:function(e,t,a){}}]);
//# sourceMappingURL=18.384f2fae.chunk.js.map