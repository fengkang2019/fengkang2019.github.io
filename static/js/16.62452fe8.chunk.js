(window["webpackJsonppre-react"]=window["webpackJsonppre-react"]||[]).push([[16],{553:function(e,t,n){"use strict";n.r(t),function(e,a){n.d(t,"default",(function(){return w}));var r,i=n(41),o=n(42),l=n(44),s=n(43),c=n(45),m=(n(554),n(567)),d=n(327),u=n(572),p=n(239),f=n(571),h=n(54),b=n.n(h),v=n(82),g=n(562),E=n(10),y=n(18),C=(m.a.MonthPicker,m.a.RangePicker),k=(m.a.WeekPicker,function(){d.a.error("\u8be5\u540c\u4e8b\u5df2\u79bb\u804c,\u65e0\u6cd5\u8fdb\u884c\u64cd\u4f5c")}),O=function(){d.a.info("\u8bf7\u5c06\u8bf7\u5047\u7533\u8bf7\u586b\u5199\u5b8c\u6574")},w=Object(v.b)((function(e){return{staffs:e.getIn(["staff","staffs"]),name:e.getIn(["dimission","name"]),entrytime:e.getIn(["dimission","entrytime"]),reason:e.getIn(["dimission","reason"])}}))(r=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(s.a)(t).call(this))).showDrawer=function(t){e.setState({visible:!0});var n=t.target.parentNode.parentNode.firstElementChild.innerHTML;e.props.dispatch(Object(E.o)(n));var a=t.target.parentNode.parentNode.firstElementChild.nextElementSibling.innerHTML;e.props.dispatch(Object(E.r)(a))},e.onClose=function(){e.setState({visible:!1})},e.submitApply=function(t,n){e.setState({visible:!1});var a=e.one.value;e.props.dispatch(Object(E.p)(a)),Object(y.a)({url:"/react/addDimission",params:{name:t,entrytime:n,reason:a,dimissiontime:Object(y.b)(Date.now()),state:!1}})},e.showModal=function(t){e.setState({visible2:!0}),console.log(t.target.parentNode.parentNode.firstElementChild.innerHTML);var n=t.target.parentNode.parentNode.firstElementChild.innerHTML;e.setState({name:n})},e.handleOk=function(t){e.setState({confirmLoading:!0});var n=e.inp.value,a=e.state.starttime,r=e.state.endtime;console.log(n,a,r),n&&a&&r?setTimeout((function(){Object(y.a)({url:"/react/addAsk",params:{name:e.state.name,starttime:a,endtime:r,reason:n,state:!1}})}),1500):O(),e.setState({visible2:!1,confirmLoading:!1})},e.handleCancel=function(){e.setState({visible2:!1})},e.onChange=function(t,n){var a=n[0],r=n[1];console.log(a,r),e.setState({starttime:a,endtime:r})},e.handleDate=function(e){return!!e&&e<b()().subtract(1,"days")},e.state={visible:!1,visible2:!1,confirmLoading:!1,starttime:"",endtime:"",name:""},e}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(E.q)({url:"/react/getStaff"}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.staffs,r=t.name,i=t.entrytime,o=this.state,l=o.visible2,s=(o.ModalText,o.confirmLoading);return a.createElement("div",{id:"role"},a.createElement("h2",null,"\u5458\u5de5\u7ba1\u7406\u8868\u683c"),a.createElement("table",{summary:"\u8be5\u8868\u683c\u4e3a\u64cd\u4f5c\u5458\u5de5\u79bb\u804c\u548c\u8bf7\u5047\u4e24\u5927\u4e8b\u9879\u6240\u7528"},a.createElement("tbody",null,a.createElement("tr",null,a.createElement("td",null,"\u59d3\u540d"),a.createElement("td",null,"\u5165\u804c\u65f6\u95f4"),a.createElement("td",null,"\u72b6\u6001"),a.createElement("td",null,"\u64cd\u4f5c")),n.map((function(t,n){return a.createElement("tr",{key:n},a.createElement("td",null,t.name),a.createElement("td",null,t.entrytime),a.createElement("td",null,t.state?"\u5df2\u79bb\u804c":"\u5728\u804c"),a.createElement("td",null,a.createElement("span",{onClick:t.state?k:e.showDrawer},"\u529e\u7406\u79bb\u804c\u7533\u8bf7"),a.createElement("span",{onClick:t.state?k:e.showModal},"\u529e\u7406\u8bf7\u5047\u7533\u8bf7"),a.createElement(u.a,{width:"800px",title:"\u79bb\u804c\u7533\u8bf7",placement:"right",closable:!1,onClose:e.onClose,visible:e.state.visible,getContainer:!1,style:{position:"absolute"}},a.createElement("textarea",{name:"text",className:"text",placeholder:"\u8bf7\u8f93\u5165\u7533\u8bf7\u7406\u7531",ref:function(t){return e.one=t}}),a.createElement(p.a,{size:"large",type:"danger",className:"btn",onClick:function(){return e.submitApply(r,i)}},"\u63d0\u4ea4\u7533\u8bf7")),a.createElement(f.a,{title:"\u79bb\u804c\u7533\u8bf7\u5355",visible:l,onOk:e.handleOk,confirmLoading:s,onCancel:e.handleCancel},a.createElement("textarea",{className:"inp",placeholder:"\u8bf7\u8f93\u5165\u8bf7\u5047\u7406\u7531",ref:function(t){return e.inp=t},required:!0}),a.createElement(C,{locale:g.a,onChange:e.onChange,disabledDate:e.handleDate}))))})))))}}]),t}(e))||r}.call(this,n(0).Component,n(0))},554:function(e,t,n){},562:function(e,t,n){"use strict";var a={placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4"};function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var i={lang:r({placeholder:"\u8bf7\u9009\u62e9\u65e5\u671f",rangePlaceholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"]},{today:"\u4eca\u5929",now:"\u6b64\u523b",backToToday:"\u8fd4\u56de\u4eca\u5929",ok:"\u786e\u5b9a",timeSelect:"\u9009\u62e9\u65f6\u95f4",dateSelect:"\u9009\u62e9\u65e5\u671f",weekSelect:"\u9009\u62e9\u5468",clear:"\u6e05\u9664",month:"\u6708",year:"\u5e74",previousMonth:"\u4e0a\u4e2a\u6708 (\u7ffb\u9875\u4e0a\u952e)",nextMonth:"\u4e0b\u4e2a\u6708 (\u7ffb\u9875\u4e0b\u952e)",monthSelect:"\u9009\u62e9\u6708\u4efd",yearSelect:"\u9009\u62e9\u5e74\u4efd",decadeSelect:"\u9009\u62e9\u5e74\u4ee3",yearFormat:"YYYY\u5e74",dayFormat:"D\u65e5",dateFormat:"YYYY\u5e74M\u6708D\u65e5",dateTimeFormat:"YYYY\u5e74M\u6708D\u65e5 HH\u65f6mm\u5206ss\u79d2",previousYear:"\u4e0a\u4e00\u5e74 (Control\u952e\u52a0\u5de6\u65b9\u5411\u952e)",nextYear:"\u4e0b\u4e00\u5e74 (Control\u952e\u52a0\u53f3\u65b9\u5411\u952e)",previousDecade:"\u4e0a\u4e00\u5e74\u4ee3",nextDecade:"\u4e0b\u4e00\u5e74\u4ee3",previousCentury:"\u4e0a\u4e00\u4e16\u7eaa",nextCentury:"\u4e0b\u4e00\u4e16\u7eaa"}),timePickerLocale:r({},a)};i.lang.ok="\u786e \u5b9a";t.a=i}}]);
//# sourceMappingURL=16.62452fe8.chunk.js.map